#!/bin/bash

declare -A command_descriptions=(
  [arandr]=""
  [autorandr]=""
  [bat]="better cat"
  [chezmoi]=""
  [curl]=""
  [delta]="A syntax-highlighting pager for git, diff, grep, and blame output"
  [docker]=""
  [fd]="better find"
  [feh]="used for desktop background images"
  [fish]="user-friendly command line shell"
  [fzf]="fuzzy finder"
  [git]=""
  [jumpapp]="switch or open app"
  [kitty]="terminal emulator"
  [lazygit]="git tui"
  [node]=""
  [npm]=""
  [nvim]="neovim"
  [picom]="compositor for the X Window  System"
  [polybar]="status bar"
  [python3]=""
  [rg]="ripgrep, a better grep command"
  [rofi]="window switcher, application launcher and dmenu replacement"
  [wget]=""
  [xwinwrap]="used for desktop background videos"
  [xrandr]=""
  [yazi]="file explorer"
  [zoxide]=""
)

declare -A env_var_descriptions=(
  [EDITOR]="preferred text editor"
  [SHELL]="current shell"
  [TERMINAL]="preferred terminal emulator"
  [VISUAL]="preferred text editor"
)

declare -A path_descriptions=(
  ["$HOME/bin"]="user binary dir"
)

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
DEFAULT_COLOR='\033[0m' # No Color

echo -e "\nSystem Config Check\n===================="

echo -e "\nChecking available commands:"
for cmd in "${!command_descriptions[@]}"; do
  if command -v "$cmd" &>/dev/null; then
    path=$(command -v "$cmd")
    echo -e "${GREEN}✔ Found${DEFAULT_COLOR}    : $cmd -> $path"
  else
    echo -e "${RED}✘ Not Found${DEFAULT_COLOR}: $cmd  # ${command_descriptions[$cmd]}"
  fi
done

echo -e "\nChecking environment variables:"
for var in "${!env_var_descriptions[@]}"; do
    if [ -n "${!var}" ]; then
        value="${!var}"
        echo -e "${GREEN}✔ Set${DEFAULT_COLOR}    : $var -> $value"
    else
        echo -e "${RED}✘ Not Set${DEFAULT_COLOR}: $var"
    fi
done

echo -e "\nChecking paths in PATH:"
for path in "${!path_descriptions[@]}"; do
    if echo "$PATH" | grep -qE "(^|:)$path(:|$)"; then
        echo -e "${GREEN}✔ Present${DEFAULT_COLOR}: $path"
    else
        echo -e "${RED}✘ Missing${DEFAULT_COLOR}: $path"
    fi
done

echo ""

